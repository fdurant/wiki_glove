#!/usr/bin/perl

while(<STDIN>) {
    s/\s['`"]+\s+/ /g;
    s/\s['`"](\S)/ $1/g;
    s/['`"]\s/ /g;
    s/\s[\(\)\[\]!\"\&\|\=\/\:\?\%\+\;\$\*\>\<\{\#\~\@\}\^\_\`]+\s/ /g;
    s/\s+\.+\s+/ /g;
    s/\s+,\s+/ /g;
    s/\s+[\)\(]+\s+/ /g;
    s/\s+/ /g;
    print lc($_);
}
